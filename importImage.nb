(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 12.2' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     14386,        320]
NotebookOptionsPosition[     13485,        298]
NotebookOutlinePosition[     13926,        315]
CellTagsIndexPosition[     13883,        312]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{
  RowBox[{"imgD", " ", "=", 
   GraphicsBox[
    TagBox[RasterBox[CompressedData["
1:eJztyjEKwkAQBdBFm1TBK3gL25S2EQ+QkDXYbGAjiFf0JrmFk1tYvAd/mPnM
eVz6xyGltDYx+uHd1Tp8bqc47mV9ziVP1/LKc66X8RhlG79bZN+/AAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAB/7wcto292
      "], {{0, 526.}, {745., 0}}, {0, 255},
      ColorFunction->RGBColor],
     BoxForm`ImageTag[
     "Byte", ColorSpace -> "RGB", Interleaving -> True, MetaInformation -> 
      Association[
       "XMP" -> Association[
         "XMPBasicSchema" -> 
          Association["CreatorTool" -> "Adobe Photoshop CS6 (Macintosh)"], 
          "XMPMediaManagementSchema" -> 
          Association[
           "InstanceID" -> "xmp.iid:E62194301E5D11E5941BFB3BD6212510", 
            "DocumentID" -> "xmp.did:E62194311E5D11E5941BFB3BD6212510", 
            "DerivedFrom" -> 
            Association[
             "Reference" -> 
              Association[
               "InstanceID" -> "xmp.iid:E621942E1E5D11E5941BFB3BD6212510", 
                "DocumentID" -> 
                "xmp.did:E621942F1E5D11E5941BFB3BD6212510"]]]], "Comments" -> 
        Association["Software" -> "Adobe ImageReady"]]],
     Selectable->False],
    DefaultBaseStyle->"ImageGraphics",
    ImageSizeRaw->{745., 526.},
    PlotRange->{{0, 745.}, {0, 526.}}]}], ";"}]], "Input",
 CellChangeTimes->{{3.82859336114883*^9, 3.8285933675345507`*^9}, {
   3.829016633094243*^9, 3.829016635051918*^9}, {3.829016675589085*^9, 
   3.829016718178089*^9}, {3.82901675769001*^9, 3.829016760128611*^9}, {
   3.829017028377388*^9, 3.8290170410776367`*^9}, 
   3.829021675015315*^9},ExpressionUUID->"95f212cf-d298-40f7-9c94-\
2bbc20fe303c"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"TestManipulate", "[", "]"}], ":=", 
    RowBox[{"Manipulate", "[", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"Or", "[", 
          RowBox[{
           RowBox[{"x", " ", "\[Equal]", "\"\<KMeans\>\""}], ",", 
           RowBox[{"x", " ", "\[Equal]", "\"\<KMedoids\>\""}], ",", 
           RowBox[{"x", " ", "\[Equal]", "  ", "\"\<Spectral\>\""}]}], "]"}], 
         ",", 
         RowBox[{"imgA", "=", 
          RowBox[{"ClusteringComponents", "[", 
           RowBox[{
            RowBox[{"ImageResize", "[", 
             RowBox[{"imgD", ",", "200"}], "]"}], ",", "cl", ",", 
            RowBox[{"Method", "\[Rule]", "x"}]}], "]"}]}], ",", 
         RowBox[{"imgA", "=", 
          RowBox[{"ClusteringComponents", "[", 
           RowBox[{
            RowBox[{"ImageResize", "[", 
             RowBox[{"imgD", ",", "200"}], "]"}], ",", 
            RowBox[{"Method", "\[Rule]", "x"}]}], "]"}]}]}], "]"}], "//", 
       "Colorize"}], ",", 
      RowBox[{"Row", "[", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Item", "[", 
          RowBox[{
           RowBox[{"FileNameSetter", "[", 
            RowBox[{"Dynamic", "[", "selectedFile", "]"}], "]"}], ",", 
           RowBox[{"Alignment", "->", "Center"}]}], "]"}], ",", 
         RowBox[{"Button", "[", 
          RowBox[{"\"\<Import\>\"", ",", 
           RowBox[{"imgD", "=", 
            RowBox[{"Import", "[", "selectedFile", "]"}]}]}], "]"}]}], "}"}], 
       "]"}], ",", " ", 
      RowBox[{"Control", "[", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"x", ",", " ", "\"\<KMeans\>\"", ",", "\"\<Method\>\""}], 
          "}"}], ",", " ", 
         RowBox[{"{", 
          RowBox[{
          "\"\<KMeans\>\"", ",", "\"\<KMedoids\>\"", ",", "\"\<Spectral\>\"", 
           ",", "\"\<MeanShift\>\"", ",", "\"\<GaussianMixture\>\"", ",", 
           "\"\<NeighborhoodContraction\>\""}], "}"}]}], "}"}], "]"}], ",", 
      RowBox[{"Control", "[", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"cl", ",", " ", "2", ",", " ", "\"\<N. cluster\>\""}], 
          "}"}], ",", " ", "2", ",", " ", "15", ",", " ", "1", ",", " ", 
         RowBox[{"Appearance", " ", "->", " ", "\"\<Labeled\>\""}]}], "}"}], 
       "]"}], ",", 
      RowBox[{"Button", "[", 
       RowBox[{"\"\<Save Image\>\"", ",", 
        RowBox[{"Export", "[", 
         RowBox[{
          RowBox[{"FileNameJoin", "[", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"Directory", "[", "]"}], ",", 
             RowBox[{"StringJoin", "[", "\"\<testA.jpg\>\"", "]"}]}], "}"}], 
           "]"}], ",", 
          RowBox[{"imgA", "//", "Colorize"}], ",", "\"\<JPEG\>\""}], "]"}]}], 
       "]"}]}], "]"}]}], ";"}], " ", 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{"TestManipulate", "[", "]"}]}], "Input",
 CellChangeTimes->{{3.829021635404992*^9, 3.829021688111536*^9}, {
   3.829021724085348*^9, 3.829021763560491*^9}, {3.829021840912548*^9, 
   3.829021859647437*^9}, {3.8290219038891363`*^9, 3.8290219069143457`*^9}, {
   3.829021976925949*^9, 3.8290220144661703`*^9}, {3.829022052994467*^9, 
   3.829022075486619*^9}, 3.829022117701326*^9, {3.8290222317909393`*^9, 
   3.829022245274588*^9}, {3.8290223188631067`*^9, 3.8290223526687317`*^9}, {
   3.829022475161686*^9, 3.829022510940236*^9}, {3.829022601719203*^9, 
   3.82902260372221*^9}, {3.829022648495605*^9, 3.8290227031226273`*^9}, 
   3.829022859649395*^9, {3.829022921597467*^9, 3.829023024211938*^9}, {
   3.8290230591978283`*^9, 3.829023083729556*^9}, {3.829023162091435*^9, 
   3.829023171238264*^9}, {3.8290232482584267`*^9, 3.829023271815539*^9}, {
   3.8290233822110147`*^9, 3.829023407587296*^9}, {3.829023468579043*^9, 
   3.829023480080768*^9}, {3.8290235333851*^9, 3.829023556556117*^9}, 
   3.829023742628124*^9, {3.829023775745326*^9, 3.829023776661083*^9}, {
   3.829023874656846*^9, 3.829023946261754*^9}, {3.829024411816214*^9, 
   3.829024466016838*^9}, 3.829024514092731*^9, {3.8290245633316393`*^9, 
   3.829024567273923*^9}, {3.8291893191871653`*^9, 3.829189319614312*^9}, {
   3.829190754400128*^9, 3.8291907611184134`*^9}, {3.8291915629251723`*^9, 
   3.829191565783326*^9}, {3.8291916114959593`*^9, 3.829191625803641*^9}, {
   3.829191791355775*^9, 3.8291918192673097`*^9}, {3.829191859150526*^9, 
   3.8291918966806774`*^9}, {3.8291919527172537`*^9, 3.829191963124902*^9}, {
   3.8291920923397865`*^9, 3.829192126677174*^9}, {3.8291923331325855`*^9, 
   3.8291923416753535`*^9}, {3.829192390453451*^9, 3.8291923995525336`*^9}, {
   3.8291925595073442`*^9, 3.829192560594737*^9}, {3.8291927295451856`*^9, 
   3.829192751211356*^9}},
 CellLabel->"In[60]:=",ExpressionUUID->"b0519130-5075-41ee-b949-a9ef86ba0949"],

Cell[BoxData[
 TagBox[
  StyleBox[
   DynamicModuleBox[{$CellContext`cl$$ = 2, $CellContext`x$$ = "KMeans", 
    Typeset`show$$ = True, Typeset`bookmarkList$$ = {}, 
    Typeset`bookmarkMode$$ = "Menu", Typeset`animator$$, Typeset`animvar$$ = 
    1, Typeset`name$$ = "\"untitled\"", Typeset`specs$$ = {{
      Hold[
       Row[{
         Item[
          FileNameSetter[
           Dynamic[$CellContext`selectedFile]], Alignment -> Center], 
         Button[
         "Import", $CellContext`imgD = Import[$CellContext`selectedFile]]}]], 
      Manipulate`Dump`ThisIsNotAControl}, {{
       Hold[$CellContext`x$$], "KMeans", "Method"}, {
      "KMeans", "KMedoids", "Spectral", "MeanShift", "GaussianMixture", 
       "NeighborhoodContraction"}}, {{
       Hold[$CellContext`cl$$], 2, "N. cluster"}, 2, 15, 1}, {
      Hold[
       Button["Save Image", 
        Export[
         FileNameJoin[{
           Directory[], 
           StringJoin["testA.jpg"]}], 
         Colorize[$CellContext`imgA], "JPEG"]]], 
      Manipulate`Dump`ThisIsNotAControl}}, Typeset`size$$ = {
    200., {60., 66.}}, Typeset`update$$ = 0, Typeset`initDone$$, 
    Typeset`skipInitDone$$ = True}, 
    DynamicBox[Manipulate`ManipulateBoxes[
     1, StandardForm, 
      "Variables" :> {$CellContext`cl$$ = 2, $CellContext`x$$ = "KMeans"}, 
      "ControllerVariables" :> {}, 
      "OtherVariables" :> {
       Typeset`show$$, Typeset`bookmarkList$$, Typeset`bookmarkMode$$, 
        Typeset`animator$$, Typeset`animvar$$, Typeset`name$$, 
        Typeset`specs$$, Typeset`size$$, Typeset`update$$, Typeset`initDone$$,
         Typeset`skipInitDone$$}, "Body" :> Colorize[
        If[
         Or[$CellContext`x$$ == "KMeans", $CellContext`x$$ == 
          "KMedoids", $CellContext`x$$ == "Spectral"], $CellContext`imgA = 
         ClusteringComponents[
           ImageResize[$CellContext`imgD, 200], $CellContext`cl$$, 
           Method -> $CellContext`x$$], $CellContext`imgA = 
         ClusteringComponents[
           ImageResize[$CellContext`imgD, 200], Method -> $CellContext`x$$]]],
       "Specifications" :> {
        Row[{
          Item[
           FileNameSetter[
            Dynamic[$CellContext`selectedFile]], Alignment -> Center], 
          Button[
          "Import", $CellContext`imgD = 
           Import[$CellContext`selectedFile]]}], {{$CellContext`x$$, "KMeans",
           "Method"}, {
         "KMeans", "KMedoids", "Spectral", "MeanShift", "GaussianMixture", 
          "NeighborhoodContraction"}}, {{$CellContext`cl$$, 2, "N. cluster"}, 
         2, 15, 1, Appearance -> "Labeled"}, 
        Button["Save Image", 
         Export[
          FileNameJoin[{
            Directory[], 
            StringJoin["testA.jpg"]}], 
          Colorize[$CellContext`imgA], "JPEG"]]}, "Options" :> {}, 
      "DefaultOptions" :> {}],
     ImageSizeCache->{1035., {90., 96.}},
     SingleEvaluation->True],
    Deinitialization:>None,
    DynamicModuleValues:>{},
    SynchronousInitialization->True,
    UndoTrackedVariables:>{Typeset`show$$, Typeset`bookmarkMode$$},
    UnsavedVariables:>{Typeset`initDone$$},
    UntrackedVariables:>{Typeset`size$$}], "Manipulate",
   Deployed->True,
   StripOnInput->False],
  Manipulate`InterpretManipulate[1]]], "Output",
 CellChangeTimes->{
  3.829021653426277*^9, 3.829021910067956*^9, 3.829022017033086*^9, 
   3.829022076996767*^9, 3.829022179390523*^9, {3.829022236356406*^9, 
   3.8290222477684507`*^9}, 3.829022633337968*^9, 3.8290228973937187`*^9, 
   3.829023028240315*^9, {3.8290230848526382`*^9, 3.829023097179812*^9}, 
   3.829023173454729*^9, 3.829023274147298*^9, 3.8290234330222483`*^9, 
   3.829023482740089*^9, 3.829023557600008*^9, 3.829023685212902*^9, 
   3.8290237436915092`*^9, 3.829023777677805*^9, 3.829023887525909*^9, 
   3.829023947569818*^9, 3.8290245916177063`*^9, 3.8291891962276983`*^9, 
   3.829189283734866*^9, {3.829189321178258*^9, 3.8291893503131847`*^9}, 
   3.8291893831379824`*^9, 3.8291896673224936`*^9, 3.8291907623384004`*^9, 
   3.8291915912370877`*^9, 3.829191629039895*^9, {3.8291918820556655`*^9, 
   3.829191902593065*^9}, 3.829191965719782*^9, 3.829192047786975*^9, {
   3.8291921058306293`*^9, 3.8291921579107037`*^9}, 3.829192342828735*^9, 
   3.82919240059965*^9, 3.8291925635185823`*^9, {3.8291927313357477`*^9, 
   3.8291927540284386`*^9}},
 CellLabel->"Out[61]=",ExpressionUUID->"b00f17d1-6796-4838-848b-e9e13e6fdbcb"]
}, Open  ]],

Cell[BoxData[""], "Input",
 CellChangeTimes->{
  3.8291915762888823`*^9},ExpressionUUID->"13b67cd3-d665-4cf9-986c-\
8e260b5f1fc8"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.829024102641692*^9, 
  3.8290241099907417`*^9}},ExpressionUUID->"540f8554-5fb2-4a07-9fe1-\
ebfa7e9b092f"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.829024111943145*^9, 
  3.8290241119548197`*^9}},ExpressionUUID->"eca8dc1b-f528-4005-99c7-\
79cc64a6f18e"]
},
WindowSize->{1152., 585.6},
WindowMargins->{{
  Automatic, -5.399999999999864}, {-5.399999999999977, Automatic}},
FrontEndVersion->"12.2 for Microsoft Windows (64-bit) (December 12, 2020)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"7bcee67c-29c8-43a5-8815-2a57ec0060b0"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 3172, 62, 78, "Input",ExpressionUUID->"95f212cf-d298-40f7-9c94-2bbc20fe303c"],
Cell[CellGroupData[{
Cell[3755, 86, 4860, 100, 185, "Input",ExpressionUUID->"b0519130-5075-41ee-b949-a9ef86ba0949"],
Cell[8618, 188, 4404, 92, 228, "Output",ExpressionUUID->"b00f17d1-6796-4838-848b-e9e13e6fdbcb"]
}, Open  ]],
Cell[13037, 283, 130, 3, 28, "Input",ExpressionUUID->"13b67cd3-d665-4cf9-986c-8e260b5f1fc8"],
Cell[13170, 288, 154, 3, 28, "Input",ExpressionUUID->"540f8554-5fb2-4a07-9fe1-ebfa7e9b092f"],
Cell[13327, 293, 154, 3, 28, "Input",ExpressionUUID->"eca8dc1b-f528-4005-99c7-79cc64a6f18e"]
}
]
*)

